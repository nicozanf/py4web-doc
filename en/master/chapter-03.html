<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Installation and Startup &mdash; py4web 1.2025-preview documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="_static/tabs.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/toggle.css" />

  
    <link rel="shortcut icon" href="_static/logo-32x32.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/tabs.js"></script>
        <script src="_static/js/toggle.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="The Dashboard" href="chapter-04.html" />
    <link rel="prev" title="Help, resources and hints" href="chapter-02.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            py4web
              <img src="_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                master
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="chapter-01.html">What is py4web?</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-02.html">Help, resources and hints</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation and Startup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#understanding-the-design">Understanding the design</a></li>
<li class="toctree-l2"><a class="reference internal" href="#supported-platforms-and-prerequisites">Supported platforms and prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setup-procedures">Setup procedures</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installing-from-pip-using-a-virtual-environment">Installing from pip, using a virtual environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installing-from-pip-without-virtual-environment">Installing from pip, without virtual environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installing-from-source-globally">Installing from source (globally)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-from-source-without-installing">Running from source without installing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installing-from-binaries">Installing from binaries</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#upgrading">Upgrading</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#running-using-uv">Running Using uv</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#first-run">First run</a></li>
<li class="toctree-l2"><a class="reference internal" href="#command-line-options">Command line options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#call-command-option"><code class="docutils literal notranslate"><span class="pre">call</span></code> command option</a></li>
<li class="toctree-l3"><a class="reference internal" href="#new-app-command-option"><code class="docutils literal notranslate"><span class="pre">new_app</span></code> command option</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-command-option"><code class="docutils literal notranslate"><span class="pre">run</span></code> command option</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-password-command-option"><code class="docutils literal notranslate"><span class="pre">set_password</span></code> command option</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setup-command-option"><code class="docutils literal notranslate"><span class="pre">setup</span></code> command option</a></li>
<li class="toctree-l3"><a class="reference internal" href="#shell-command-option"><code class="docutils literal notranslate"><span class="pre">shell</span></code> command option</a></li>
<li class="toctree-l3"><a class="reference internal" href="#version-command-option"><code class="docutils literal notranslate"><span class="pre">version</span></code> command option</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#special-installations">Special installations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#https">HTTPS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wsgi">WSGI</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deployment-on-gcloud-aka-gae-google-app-engine">Deployment on GCloud (aka GAE - Google App Engine)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deployment-on-pythonanywhere-com">Deployment on PythonAnywhere.com</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deployment-on-docker-podman">Deployment on Docker/Podman</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deployment-on-ubuntu">Deployment on Ubuntu</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="chapter-04.html">The Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-05.html">Creating an app</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-06.html">Fixtures</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-07.html">The Database Abstraction Layer (DAL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-08.html">The RestAPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-09.html">YATL Template Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-10.html">YATL helpers</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-11.html">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-12.html">Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-13.html">Authentication and authorization</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-14.html">Grid</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-15.html">From web2py to py4web</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-16.html">Advanced topics and examples</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">py4web</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Installation and Startup</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/nicozanf/py4web-doc/blob/master/docs/chapter-03.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="installation-and-startup">
<h1>Installation and Startup<a class="headerlink" href="#installation-and-startup" title="Permalink to this heading"></a></h1>
<section id="understanding-the-design">
<h2>Understanding the design<a class="headerlink" href="#understanding-the-design" title="Permalink to this heading"></a></h2>
<p>Before everything else it is important to understand that unlike other web frameworks,
is not only a python module that can be imported by apps. It is also a program that
is in charge of starting some apps. For this reason you need two things:</p>
<ul class="simple">
<li><p>The py4web module (which you download from our web site, from pypi or from github)</p></li>
<li><p>One or more folders containing collections of apps you want to run.</p></li>
</ul>
<p>py4web has command line options to create a folder with some example apps,
to initialize an existing folder, and to add scaffolding apps to that folder.
Once installed you can have multiple apps under the same folder running concurrently
and served by the same py4web process at the same address and port.
An apps folder is a python module, and each app is also a python module.</p>
</section>
<section id="supported-platforms-and-prerequisites">
<h2>Supported platforms and prerequisites<a class="headerlink" href="#supported-platforms-and-prerequisites" title="Permalink to this heading"></a></h2>
<p>py4web runs fine on Windows, MacOS and Linux. Its only prerequisite is
Python 3.7+, which must be installed in advance (except if you use binaries).</p>
</section>
<section id="setup-procedures">
<h2>Setup procedures<a class="headerlink" href="#setup-procedures" title="Permalink to this heading"></a></h2>
<p>There are four alternative ways of installing py4web, we will guide
you through each of them and if you get stuck, reach
<a class="reference external" href="https://py4web.com/_documentation/static/en/chapter-02.html">out to us.</a></p>
<section id="installing-from-pip-using-a-virtual-environment">
<h3>Installing from pip, using a virtual environment<a class="headerlink" href="#installing-from-pip-using-a-virtual-environment" title="Permalink to this heading"></a></h3>
<p>A full installation of any complex python application like py4web will
surely modify the python environment of your system. In order to prevent
any unwanted change, it’s a good habit to use a python virtual
environment (also called <strong>virtualenv</strong>, see
<a class="reference external" href="https://docs.python.org/3.7/tutorial/venv.html">here</a> for an
introduction). This is a standard python feature; if you still don’t
know virtualenv it’s a good time to start its discovery!</p>
<p>Here are the instructions for creating the virtual environment, activating it,
and installing py4web in it:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-TGludXggYW5kIE1hY09T" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-TGludXggYW5kIE1hY09T" name="TGludXggYW5kIE1hY09T" role="tab" tabindex="0">Linux and MacOS</button><button aria-controls="panel-0-V2luZG93cw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-V2luZG93cw==" name="V2luZG93cw==" role="tab" tabindex="-1">Windows</button></div><div aria-labelledby="tab-0-TGludXggYW5kIE1hY09T" class="sphinx-tabs-panel group-tab" id="panel-0-TGludXggYW5kIE1hY09T" name="TGludXggYW5kIE1hY09T" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">venv</span> <span class="n">venv</span>
<span class="o">.</span> <span class="n">venv</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">py4web</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">cache</span><span class="o">-</span><span class="nb">dir</span>
<span class="n">python</span> <span class="n">py4web</span> <span class="n">setup</span> <span class="n">apps</span>
<span class="n">python</span> <span class="n">py4web</span> <span class="n">set_password</span>
<span class="n">python</span> <span class="n">py4web</span> <span class="n">run</span> <span class="n">apps</span>
</pre></div>
</div>
<p>Starting py4web is same with or without a virtual environment
python py4web run apps</p>
</div><div aria-labelledby="tab-0-V2luZG93cw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-V2luZG93cw==" name="V2luZG93cw==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">run</span> <span class="n">cmd</span><span class="o">.</span><span class="n">exe</span>
<span class="n">In</span> <span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> <span class="n">folder</span> <span class="n">c</span><span class="p">:</span>\<span class="n">py4web</span>
<span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">venv</span> <span class="n">venv</span>
<span class="s2">&quot;C:\py4web</span><span class="se">\v</span><span class="s2">env\Scripts</span><span class="se">\a</span><span class="s2">ctivate.bat&quot;</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">py4web</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">cache</span><span class="o">-</span><span class="nb">dir</span>
<span class="n">cd</span> <span class="n">venv</span>\<span class="n">scripts</span>
<span class="n">py4web</span><span class="o">.</span><span class="n">exe</span> <span class="n">setup</span> <span class="n">apps</span>
<span class="n">py4web</span><span class="o">.</span><span class="n">exe</span> <span class="n">set_password</span>
<span class="n">py4web</span><span class="o">.</span><span class="n">exe</span> <span class="n">run</span> <span class="n">apps</span>
</pre></div>
</div>
<p>You can also find power shell scripts in the same folder. Starting py4web is same with or without a virtual environment
python py4web run apps</p>
</div></div>
</section>
<section id="installing-from-pip-without-virtual-environment">
<h3>Installing from pip, without virtual environment<a class="headerlink" href="#installing-from-pip-without-virtual-environment" title="Permalink to this heading"></a></h3>
<p><em>pip</em> is the basic installation procedure for py4web, it will
quickly install the latest stable release of py4web.</p>
<p>From the command line</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">py4web</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">cache</span><span class="o">-</span><span class="nb">dir</span> <span class="o">--</span><span class="n">user</span>
</pre></div>
</div>
<p>Also, if <code class="docutils literal notranslate"><span class="pre">python3</span></code> does not work, try specify a full version as in <code class="docutils literal notranslate"><span class="pre">python3.8</span></code>.</p>
<p>This will install py4web and all its dependencies on the system’s path
only. The assets folder (that contains the py4web’s system apps) will
also be created. After the installation you’ll be able to start py4web
on any given working folder with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">py4web</span> <span class="n">setup</span> <span class="n">apps</span>
<span class="n">py4web</span> <span class="n">set_password</span>
<span class="n">py4web</span> <span class="n">run</span> <span class="n">apps</span>
</pre></div>
</div>
<p>If the command py4web is not accepted, it means it’s not in the system’s
path. On Windows, a special py4web.exe file (pointing to py4web.py) will
be created by <em>pip</em> on the system’s path, but not if you type the
<em>–user</em> option by mistake, then you can run the needed commands like this</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="n">py4web</span><span class="o">.</span><span class="n">py</span> <span class="n">setup</span> <span class="n">apps</span>
<span class="n">python3</span> <span class="n">py4web</span><span class="o">.</span><span class="n">py</span> <span class="n">set_password</span>
<span class="n">python3</span> <span class="n">py4web</span><span class="o">.</span><span class="n">py</span> <span class="n">run</span> <span class="n">apps</span>
</pre></div>
</div>
</section>
<section id="installing-from-source-globally">
<h3>Installing from source (globally)<a class="headerlink" href="#installing-from-source-globally" title="Permalink to this heading"></a></h3>
<p>This is the traditional way for installing a program, but it works only
on Linux and MacOS (Windows does not normally support the <cite>make</cite> utility).
All the requirements will be installed on the
system’s path along with links to the py4web.py program on the local
folder</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">web2py</span><span class="o">/</span><span class="n">py4web</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">py4web</span>
<span class="n">make</span> <span class="n">assets</span>
<span class="n">make</span> <span class="n">test</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">.</span>
<span class="n">py4web</span> <span class="n">setup</span> <span class="n">apps</span>
<span class="n">py4web</span> <span class="n">set_password</span>
<span class="n">py4web</span> <span class="n">run</span> <span class="n">apps</span>
</pre></div>
</div>
<p>Also notice that when installing in this way the content of
<code class="docutils literal notranslate"><span class="pre">py4web/assets</span></code> folder is missing at first but it is manually created
later with the <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">assets</span></code> command.</p>
<p>Notice that you also (and should) install py4web from source inside a virtual environment.</p>
</section>
<section id="running-from-source-without-installing">
<h3>Running from source without installing<a class="headerlink" href="#running-from-source-without-installing" title="Permalink to this heading"></a></h3>
<p>In this way all the requirements will be installed or upgraded on the
system’s path, but py4web itself will only be copied
on a local folder. This is especially useful if you already have a
working py4web installation but you want to test a different
one. Also, installing from sources (locally or globally) will
install all the latest changes present on the master branch of py4web - hence
you will gain the latest (but potentially untested) code.</p>
<p>From the command line, go to a given working folder and then run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">web2py</span><span class="o">/</span><span class="n">py4web</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">py4web</span>
<span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span>
</pre></div>
</div>
<p>Once installed, you should always start it from there with:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-TGludXggYW5kIE1hY09T" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-TGludXggYW5kIE1hY09T" name="TGludXggYW5kIE1hY09T" role="tab" tabindex="0">Linux and MacOS</button><button aria-controls="panel-1-V2luZG93cw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-V2luZG93cw==" name="V2luZG93cw==" role="tab" tabindex="-1">Windows</button></div><div aria-labelledby="tab-1-TGludXggYW5kIE1hY09T" class="sphinx-tabs-panel group-tab" id="panel-1-TGludXggYW5kIE1hY09T" name="TGludXggYW5kIE1hY09T" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">py4web</span><span class="o">.</span><span class="n">py</span> <span class="n">setup</span> <span class="n">apps</span>
<span class="o">./</span><span class="n">py4web</span><span class="o">.</span><span class="n">py</span> <span class="n">set_password</span>
<span class="o">./</span><span class="n">py4web</span><span class="o">.</span><span class="n">py</span> <span class="n">run</span> <span class="n">apps</span>
</pre></div>
</div>
<p>If you have installed py4web both globally and locally, notice the
<strong>./</strong> ; it forces the run of the local folder’s py4web and not the
globally installed one.</p>
</div><div aria-labelledby="tab-1-V2luZG93cw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-V2luZG93cw==" name="V2luZG93cw==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="n">py4web</span><span class="o">.</span><span class="n">py</span> <span class="n">setup</span> <span class="n">apps</span>
<span class="n">python3</span> <span class="n">py4web</span><span class="o">.</span><span class="n">py</span> <span class="n">set_password</span>
<span class="n">python3</span> <span class="n">py4web</span><span class="o">.</span><span class="n">py</span> <span class="n">run</span> <span class="n">apps</span>
</pre></div>
</div>
<p>On Windows, the programs on the local folder are always executed before
the ones in the path (hence you don’t need the <strong>./</strong> as on Linux).
But running .py files directly it’s not usual and you’ll need an explicit
python3/python command.</p>
</div></div>
</section>
<section id="installing-from-binaries">
<h3>Installing from binaries<a class="headerlink" href="#installing-from-binaries" title="Permalink to this heading"></a></h3>
<p>This is not a real installation, because you just copy a bunch of files
on your system without modifying it anyhow. Hence this is the simplest
solution, especially for beginners or students, because it does not
require Python pre-installed on your system nor administrative rights.
On the other hand, it’s experimental, it could contain an old py4web
release, DAL support is limited and it is quite difficult to add other functionalities to it.</p>
<p>In order to use it you just need to download the latest Windows or MacOS
ZIP file from
<a class="reference external" href="https://github.com/nicozanf/py4web-pyinstaller">this external repository</a>.
Unzip it on a local folder and open a command line there. Finally run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">py4web</span> <span class="n">set_password</span>
<span class="o">./</span><span class="n">py4web</span> <span class="n">run</span> <span class="n">apps</span>
</pre></div>
</div>
<p>(omit ‘./’ if you’re using Windows).</p>
<p>Notice: the binaries many not correspond to the latest master
or the latest stable branch of py4web although we do our best to
keep them up to date.</p>
</section>
</section>
<section id="upgrading">
<h2>Upgrading<a class="headerlink" href="#upgrading" title="Permalink to this heading"></a></h2>
<p>If you installed py4web from pip you can simple upgrade it with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">py4web</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This will not automatically upgrade the standard apps like <strong>Dashboard</strong>
and <strong>Default</strong>.
You have to manually remove these apps and then run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">py4web</span> <span class="n">setup</span> <span class="o">&lt;</span><span class="n">path</span> <span class="n">to</span> <span class="n">apps_folder</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>in order to re-install them. This is a safety precaution, in case you
made changes to those apps.</p>
</div>
<p>If you installed py4web in any other way, you must upgrade it manually.
First you have to make a backup of any personal py4web work you’ve done,
then delete the old installation folder and re-install the framework
again.</p>
<section id="running-using-uv">
<h3>Running Using uv<a class="headerlink" href="#running-using-uv" title="Permalink to this heading"></a></h3>
<p>This is the newest way to manage python packages.
Install uv as shown here: <a class="reference external" href="https://docs.astral.sh/uv/getting-started/installation/">https://docs.astral.sh/uv/getting-started/installation/</a>
Then run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">uv</span> <span class="n">run</span> <span class="n">py4web</span><span class="o">.</span><span class="n">py</span> <span class="n">run</span> <span class="n">apps</span>
</pre></div>
</div>
<p>More uv command examples are in the provided Makefile</p>
</section>
</section>
<section id="first-run">
<h2>First run<a class="headerlink" href="#first-run" title="Permalink to this heading"></a></h2>
<p>Running py4web using any of the previous procedure should produce an
output like this:</p>
<img alt="_images/first_run.png" class="with-shadow" src="_images/first_run.png" />
<p>Generally <code class="docutils literal notranslate"><span class="pre">apps</span></code> is the name of the folder where you keep all your
apps, and can be explicitly set wit the <code class="docutils literal notranslate"><span class="pre">run</span></code> command.
(Yet nothing prevents you from grouping apps in multiple folders with
different names.) If that
folder does not exist, it is created. PY4WEB expects to find at least
two apps in this folder: <strong>Dashboard</strong> (<code class="docutils literal notranslate"><span class="pre">_dashboard</span></code>) and <strong>Default</strong>
(<code class="docutils literal notranslate"><span class="pre">_default</span></code>). If it does not find them, it installs them.</p>
<p><strong>Dashboard</strong> is a web based IDE. It will be described in the next chapter.</p>
<p><strong>Default</strong> is an app that does nothing other than welcome the user.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some apps - like <strong>Dashboard</strong> and <strong>Default</strong> - have a special role in py4web and therefore their actual name starts with <code class="docutils literal notranslate"><span class="pre">_</span></code>
to avoid conflicts with apps created by you.</p>
</div>
<p>Once py4web is running you can access a specific app at the following
urls from the local machine:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">8000</span>
<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="n">_dashboard</span>
<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="p">{</span><span class="n">yourappname</span><span class="p">}</span><span class="o">/</span><span class="n">index</span>
</pre></div>
</div>
<p>In order to stop py4web, you need to hit <kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Control</kbd>-<kbd class="kbd docutils literal notranslate">C</kbd></kbd> on the window where you run it.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>ONLY the <strong>Default</strong> app is special because if does not require the “{appname}/” prefix in the path, like all the other apps do.
In general you may want to symlink <code class="docutils literal notranslate"><span class="pre">apps/_default</span></code> to your default app.</p>
</div>
<p>For all apps the trailing <code class="docutils literal notranslate"><span class="pre">/index</span></code> is also optional.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>For Windows: it could be that <code class="docutils literal notranslate"><span class="pre">Ctrl-C</span></code> does not work in order to stop py4web.
In this case, try with <code class="docutils literal notranslate"><span class="pre">Ctrl-Break</span></code> or <code class="docutils literal notranslate"><span class="pre">Ctrl-Fn-Pause</span></code>.</p>
</div>
</section>
<section id="command-line-options">
<h2>Command line options<a class="headerlink" href="#command-line-options" title="Permalink to this heading"></a></h2>
<p>py4web provides multiple command line options which can be listed by
running it without any argument</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># py4web</span>
</pre></div>
</div>
<img alt="_images/command.png" class="with-shadow" src="_images/command.png" />
<p>You can have additional help for a specific command line option by running it
with the <strong>–help</strong> or <strong>-h</strong> argument.</p>
<section id="call-command-option">
<span id="id1"></span><h3><code class="docutils literal notranslate"><span class="pre">call</span></code> command option<a class="headerlink" href="#call-command-option" title="Permalink to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># py4web call -h</span>
<span class="n">Usage</span><span class="p">:</span> <span class="n">py4web</span><span class="o">.</span><span class="n">py</span> <span class="n">call</span> <span class="p">[</span><span class="n">OPTIONS</span><span class="p">]</span> <span class="n">APPS_FOLDER</span> <span class="n">FUNC</span>

  <span class="n">Call</span> <span class="n">a</span> <span class="n">function</span> <span class="n">inside</span> <span class="n">apps_folder</span>

<span class="n">Options</span><span class="p">:</span>
  <span class="o">-</span><span class="n">Y</span><span class="p">,</span> <span class="o">--</span><span class="n">yes</span>          <span class="n">No</span> <span class="n">prompt</span><span class="p">,</span> <span class="n">assume</span> <span class="n">yes</span> <span class="n">to</span> <span class="n">questions</span>  <span class="p">[</span><span class="n">default</span><span class="p">:</span> <span class="kc">False</span><span class="p">]</span>
  <span class="o">--</span><span class="n">args</span> <span class="n">TEXT</span>        <span class="n">Arguments</span> <span class="n">passed</span> <span class="n">to</span> <span class="n">the</span> <span class="n">program</span><span class="o">/</span><span class="n">function</span>  <span class="p">[</span><span class="n">default</span><span class="p">:</span> <span class="p">{}]</span>
  <span class="o">-</span><span class="n">help</span><span class="p">,</span> <span class="o">-</span><span class="n">h</span><span class="p">,</span> <span class="o">--</span><span class="n">help</span>  <span class="n">Show</span> <span class="n">this</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span><span class="o">.</span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># py4web call apps examples.test.myfunction --args &#39;{&quot;x&quot;: 100}&#39;</span>
</pre></div>
</div>
<p>where myfunction is the function you want to call in apps/examples/test.py. Note
that you have to use the single and double quotes just as shown for parameters to
work.</p>
</section>
<section id="new-app-command-option">
<span id="id2"></span><h3><code class="docutils literal notranslate"><span class="pre">new_app</span></code> command option<a class="headerlink" href="#new-app-command-option" title="Permalink to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># py4web new_app -h</span>
<span class="n">Usage</span><span class="p">:</span> <span class="n">py4web</span><span class="o">.</span><span class="n">py</span> <span class="n">new_app</span> <span class="p">[</span><span class="n">OPTIONS</span><span class="p">]</span> <span class="n">APPS_FOLDER</span> <span class="n">APP_NAME</span>

  <span class="n">Create</span> <span class="n">a</span> <span class="n">new</span> <span class="n">app</span> <span class="n">copying</span> <span class="n">the</span> <span class="n">scaffolding</span> <span class="n">one</span>

<span class="n">Options</span><span class="p">:</span>
  <span class="o">-</span><span class="n">Y</span><span class="p">,</span> <span class="o">--</span><span class="n">yes</span>                <span class="n">No</span> <span class="n">prompt</span><span class="p">,</span> <span class="n">assume</span> <span class="n">yes</span> <span class="n">to</span> <span class="n">questions</span>  <span class="p">[</span><span class="n">default</span><span class="p">:</span>
                           <span class="kc">False</span><span class="p">]</span>

  <span class="o">-</span><span class="n">s</span><span class="p">,</span> <span class="o">--</span><span class="n">scaffold_zip</span> <span class="n">TEXT</span>  <span class="n">Path</span> <span class="n">to</span> <span class="n">the</span> <span class="nb">zip</span> <span class="k">with</span> <span class="n">the</span> <span class="n">scaffolding</span> <span class="n">app</span>
  <span class="o">-</span><span class="n">help</span><span class="p">,</span> <span class="o">-</span><span class="n">h</span><span class="p">,</span> <span class="o">--</span><span class="n">help</span>        <span class="n">Show</span> <span class="n">this</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span><span class="o">.</span>
</pre></div>
</div>
<p>This currently gives an error on binaries installations and from source installation
(locally), because they miss the asset zip file.</p>
</section>
<section id="run-command-option">
<span id="id3"></span><h3><code class="docutils literal notranslate"><span class="pre">run</span></code> command option<a class="headerlink" href="#run-command-option" title="Permalink to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># py4web run -h</span>
<span class="n">Usage</span><span class="p">:</span> <span class="n">py4web</span><span class="o">.</span><span class="n">py</span> <span class="n">run</span> <span class="p">[</span><span class="n">OPTIONS</span><span class="p">]</span> <span class="n">APPS_FOLDER</span>

  <span class="n">Run</span> <span class="n">the</span> <span class="n">applications</span> <span class="n">on</span> <span class="n">apps_folder</span>

<span class="n">Options</span><span class="p">:</span>
   <span class="o">-</span><span class="n">Y</span><span class="p">,</span> <span class="o">--</span><span class="n">yes</span>                       <span class="n">No</span> <span class="n">prompt</span><span class="p">,</span> <span class="n">assume</span> <span class="n">yes</span> <span class="n">to</span> <span class="n">questions</span>
   <span class="o">-</span><span class="n">H</span><span class="p">,</span> <span class="o">--</span><span class="n">host</span> <span class="n">TEXT</span>                 <span class="n">Host</span> <span class="n">listening</span> <span class="n">IP</span>  <span class="p">[</span><span class="n">default</span><span class="p">:</span> <span class="mf">127.0.0.1</span><span class="p">]</span>
   <span class="o">-</span><span class="n">P</span><span class="p">,</span> <span class="o">--</span><span class="n">port</span> <span class="n">INTEGER</span>              <span class="n">Port</span> <span class="n">number</span>  <span class="p">[</span><span class="n">default</span><span class="p">:</span> <span class="mi">8000</span><span class="p">]</span>
   <span class="o">-</span><span class="n">A</span><span class="p">,</span> <span class="o">--</span><span class="n">app_names</span> <span class="n">TEXT</span>            <span class="n">List</span> <span class="n">of</span> <span class="n">apps</span> <span class="n">to</span> <span class="n">run</span><span class="p">,</span> <span class="n">comma</span> <span class="n">separated</span> <span class="p">(</span><span class="nb">all</span> <span class="k">if</span>
                                    <span class="n">omitted</span> <span class="ow">or</span> <span class="n">empty</span><span class="p">)</span>
   <span class="o">-</span><span class="n">p</span><span class="p">,</span> <span class="o">--</span><span class="n">password_file</span> <span class="n">TEXT</span>        <span class="n">File</span> <span class="k">for</span> <span class="n">the</span> <span class="n">encrypted</span> <span class="n">password</span>  <span class="p">[</span><span class="n">default</span><span class="p">:</span>
                                    <span class="n">password</span><span class="o">.</span><span class="n">txt</span><span class="p">]</span>
   <span class="o">-</span><span class="n">Q</span><span class="p">,</span> <span class="o">--</span><span class="n">quiet</span>                     <span class="n">Suppress</span> <span class="n">server</span> <span class="n">output</span>
   <span class="o">-</span><span class="n">R</span><span class="p">,</span> <span class="o">--</span><span class="n">routes</span>                    <span class="n">Write</span> <span class="n">apps</span> <span class="n">routes</span> <span class="n">to</span> <span class="n">file</span>
   <span class="o">-</span><span class="n">s</span><span class="p">,</span> <span class="o">--</span><span class="n">server</span> <span class="p">[</span><span class="n">default</span><span class="o">|</span><span class="n">wsgiref</span><span class="o">|</span><span class="n">tornado</span><span class="o">|</span><span class="n">wsgiref</span><span class="o">+</span><span class="n">threaded</span><span class="o">|</span><span class="n">rocket</span><span class="o">|</span><span class="n">waitress</span><span class="o">|</span><span class="n">gunicorn</span><span class="o">|</span><span class="n">gevent</span><span class="o">|</span><span class="n">gunicorn</span><span class="o">+</span><span class="n">gevent</span><span class="o">|</span><span class="n">gevent</span><span class="o">+</span><span class="n">websockets</span><span class="p">]</span>
                                    <span class="n">Web</span> <span class="n">server</span> <span class="n">to</span> <span class="n">use</span> <span class="p">(</span><span class="n">unavailable</span><span class="p">:</span> <span class="n">waitress</span><span class="p">,</span>
                                    <span class="n">gunicorn</span><span class="p">,</span> <span class="n">gevent</span><span class="p">,</span> <span class="n">gunicorn</span><span class="o">+</span><span class="n">gevent</span><span class="p">,</span>
                                    <span class="n">gevent</span><span class="o">+</span><span class="n">websockets</span><span class="p">)</span>
   <span class="o">-</span><span class="n">w</span><span class="p">,</span> <span class="o">--</span><span class="n">number_workers</span> <span class="n">INTEGER</span>    <span class="n">Number</span> <span class="n">of</span> <span class="n">workers</span>  <span class="p">[</span><span class="n">default</span><span class="p">:</span> <span class="mi">0</span><span class="p">]</span>
   <span class="o">-</span><span class="n">d</span><span class="p">,</span> <span class="o">--</span><span class="n">dashboard_mode</span> <span class="n">TEXT</span>       <span class="n">Dashboard</span> <span class="n">mode</span><span class="p">:</span> <span class="n">demo</span><span class="p">,</span> <span class="n">readonly</span><span class="p">,</span> <span class="n">full</span><span class="p">,</span> <span class="n">none</span>
                                    <span class="p">[</span><span class="n">default</span><span class="p">:</span> <span class="n">full</span><span class="p">]</span>
   <span class="o">--</span><span class="n">watch</span> <span class="p">[</span><span class="n">off</span><span class="o">|</span><span class="n">sync</span><span class="o">|</span><span class="n">lazy</span><span class="p">]</span>         <span class="n">Watch</span> <span class="n">python</span> <span class="n">changes</span> <span class="ow">and</span> <span class="n">reload</span> <span class="n">apps</span>
                                    <span class="n">automatically</span><span class="p">,</span> <span class="n">modes</span><span class="p">:</span> <span class="n">off</span><span class="p">,</span> <span class="n">sync</span><span class="p">,</span> <span class="n">lazy</span>
                                    <span class="p">[</span><span class="n">default</span><span class="p">:</span> <span class="n">lazy</span><span class="p">]</span>
   <span class="o">--</span><span class="n">ssl_cert</span> <span class="n">PATH</span>                 <span class="n">SSL</span> <span class="n">certificate</span> <span class="n">file</span> <span class="k">for</span> <span class="n">HTTPS</span>
   <span class="o">--</span><span class="n">ssl_key</span> <span class="n">PATH</span>                  <span class="n">SSL</span> <span class="n">key</span> <span class="n">file</span> <span class="k">for</span> <span class="n">HTTPS</span>
   <span class="o">--</span><span class="n">errorlog</span> <span class="n">TEXT</span>                 <span class="n">Where</span> <span class="n">to</span> <span class="n">send</span> <span class="n">error</span> <span class="n">logs</span>
                                    <span class="p">(:</span><span class="n">stdout</span><span class="o">|</span><span class="p">:</span><span class="n">stderr</span><span class="o">|</span><span class="n">tickets_only</span><span class="o">|</span><span class="p">{</span><span class="n">filename</span><span class="p">})</span>
                                    <span class="p">[</span><span class="n">default</span><span class="p">:</span> <span class="p">:</span><span class="n">stderr</span><span class="p">]</span>
   <span class="o">-</span><span class="n">L</span><span class="p">,</span> <span class="o">--</span><span class="n">logging_level</span> <span class="n">INTEGER</span>     <span class="n">The</span> <span class="n">log</span> <span class="n">level</span> <span class="p">(</span><span class="mi">0</span> <span class="o">-</span> <span class="mi">50</span><span class="p">)</span> <span class="p">[</span><span class="n">default</span><span class="p">:</span> <span class="mi">30</span>
                                    <span class="p">(</span><span class="o">=</span><span class="n">WARNING</span><span class="p">)]</span>
   <span class="o">-</span><span class="n">D</span><span class="p">,</span> <span class="o">--</span><span class="n">debug</span>                     <span class="n">Debug</span> <span class="n">switch</span>
   <span class="o">-</span><span class="n">U</span><span class="p">,</span> <span class="o">--</span><span class="n">url_prefix</span> <span class="n">TEXT</span>           <span class="n">Prefix</span> <span class="n">to</span> <span class="n">add</span> <span class="n">to</span> <span class="nb">all</span> <span class="n">URLs</span> <span class="ow">in</span> <span class="ow">and</span> <span class="n">out</span>
   <span class="o">-</span><span class="n">m</span><span class="p">,</span> <span class="o">--</span><span class="n">mode</span> <span class="n">TEXT</span>                 <span class="n">default</span> <span class="ow">or</span> <span class="n">development</span>  <span class="p">[</span><span class="n">default</span><span class="p">:</span> <span class="n">default</span><span class="p">]</span>
   <span class="o">-</span><span class="n">help</span><span class="p">,</span> <span class="o">-</span><span class="n">h</span><span class="p">,</span> <span class="o">--</span><span class="n">help</span>               <span class="n">Show</span> <span class="n">this</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span><span class="o">.</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">app_names</span></code> option lets you filter which specific apps you want to serve (comma separated). If absent or empty
all the apps in the APPS_FOLDER will be run.</p>
<p>By default (for security reasons) the py4web framework will listen only on 127.0.0.1, i.e. localhost.
If you need to reach it from other machines you must specify the host option,
like <code class="docutils literal notranslate"><span class="pre">py4web</span> <span class="pre">run</span> <span class="pre">--host</span> <span class="pre">0.0.0.0</span> <span class="pre">apps</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">url_prefix</span></code> option is useful for routing at the py4web level. It allows mapping to multiple versions of py4web
running on different ports as long as the url_prefix and port match the location. For example
<code class="docutils literal notranslate"><span class="pre">py4web</span> <span class="pre">run</span> <span class="pre">--url_prefix=/abracadabra</span> <span class="pre">--port</span> <span class="pre">8000</span> <span class="pre">apps</span></code>.</p>
<p>By default py4web will automatically reload an application upon any changes to the python files of that application.
The reloading will occur on any first incoming request to the application that has
been changed (lazy-mode). If you prefer an immediate reloading (sync-mode), use
<code class="docutils literal notranslate"><span class="pre">py4web</span> <span class="pre">run</span> <span class="pre">--watch</span> <span class="pre">sync</span></code>. For production servers, it’s better to use <code class="docutils literal notranslate"><span class="pre">py4web</span> <span class="pre">run</span> <span class="pre">--watch</span> <span class="pre">off</span></code> in order
to avoid unneded checks (but you will need to restart py4web for activating any change).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--watch</span></code> directive looks for any changes occurring to the python files under the
<code class="docutils literal notranslate"><span class="pre">/apps</span></code> folder only. Any modifications to the standard py4web programs will always require a full
restart of the framework.</p>
</div>
<p>The default web server used is currently rocketServer, but you can change this behaviour with the <code class="docutils literal notranslate"><span class="pre">server</span></code> option.
<a class="reference external" href="https://github.com/web2py/rocket3">Rocket3</a>  is the multi-threaded web server used by web2py stripped of all the
Python2 logic and dependencies.</p>
<p>The logging_level values are defined in the <strong>logging</strong> standard python module. The default value is 30 (it corresponds
to WARNING). Other common values are 0 (NOTSET), 10 (DEBUG), 20 (INFO), 40 (ERROR) and 50 (CRITICAL).
Using them, you’re telling the library you want to handle all events from that level on up.</p>
<p>The debug parameter automatically sets logging_level to 0 and logs all calls to fixture functions. It also logs when
a session is found, invalid, saved.</p>
</section>
<section id="set-password-command-option">
<span id="id4"></span><h3><code class="docutils literal notranslate"><span class="pre">set_password</span></code> command option<a class="headerlink" href="#set-password-command-option" title="Permalink to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># py4web set_password -h</span>
<span class="n">Usage</span><span class="p">:</span> <span class="n">py4web</span><span class="o">.</span><span class="n">py</span> <span class="n">set_password</span> <span class="p">[</span><span class="n">OPTIONS</span><span class="p">]</span>

  <span class="n">Set</span> <span class="n">administrator</span><span class="s1">&#39;s password for the Dashboard</span>

<span class="n">Options</span><span class="p">:</span>
  <span class="o">--</span><span class="n">password</span> <span class="n">TEXT</span>           <span class="n">Password</span> <span class="n">value</span> <span class="p">(</span><span class="n">asked</span> <span class="k">if</span> <span class="n">missing</span><span class="p">)</span>
  <span class="o">-</span><span class="n">p</span><span class="p">,</span> <span class="o">--</span><span class="n">password_file</span> <span class="n">TEXT</span>  <span class="n">File</span> <span class="k">for</span> <span class="n">the</span> <span class="n">encrypted</span> <span class="n">password</span>  <span class="p">[</span><span class="n">default</span><span class="p">:</span>
                            <span class="n">password</span><span class="o">.</span><span class="n">txt</span><span class="p">]</span>

  <span class="o">-</span><span class="n">h</span><span class="p">,</span> <span class="o">-</span><span class="n">help</span><span class="p">,</span> <span class="o">--</span><span class="n">help</span>         <span class="n">Show</span> <span class="n">this</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span><span class="o">.</span>
</pre></div>
</div>
<p>If the <code class="docutils literal notranslate"><span class="pre">--dashboard_mode</span></code> is not <code class="docutils literal notranslate"><span class="pre">demo</span></code> or <code class="docutils literal notranslate"><span class="pre">none</span></code>, every time
py4web starts, it asks for a one-time password for you to access the
dashboard. This is annoying. You can avoid it by storing a pdkdf2 hashed
password in a file (by default called password.txt) with the command</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">py4web</span> <span class="n">set_password</span>
</pre></div>
</div>
<p>It will not ask again unless the file is deleted. You can also use a
custom file name with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">py4web</span> <span class="n">set_password</span> <span class="n">my_password_file</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>and then ask py4web to re-use that password at runtime with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">py4web</span> <span class="n">run</span> <span class="o">-</span><span class="n">p</span> <span class="n">my_password_file</span><span class="o">.</span><span class="n">txt</span> <span class="n">apps</span>
</pre></div>
</div>
<p>Finally you can manually create the file yourself with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;from pydal.validators import CRYPT; open(&#39;password.txt&#39;,&#39;w&#39;).write(str(CRYPT()(input(&#39;password:&#39;))[0]))&quot;</span>
<span class="n">password</span><span class="p">:</span> <span class="o">*****</span>
</pre></div>
</div>
</section>
<section id="setup-command-option">
<span id="id5"></span><h3><code class="docutils literal notranslate"><span class="pre">setup</span></code> command option<a class="headerlink" href="#setup-command-option" title="Permalink to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># py4web setup -h</span>
<span class="n">Usage</span><span class="p">:</span> <span class="n">py4web</span><span class="o">.</span><span class="n">py</span> <span class="n">setup</span> <span class="p">[</span><span class="n">OPTIONS</span><span class="p">]</span> <span class="n">APPS_FOLDER</span>

  <span class="n">Setup</span> <span class="n">new</span> <span class="n">apps</span> <span class="n">folder</span> <span class="ow">or</span> <span class="n">reinstall</span> <span class="n">it</span>

<span class="n">Options</span><span class="p">:</span>
  <span class="o">-</span><span class="n">Y</span><span class="p">,</span> <span class="o">--</span><span class="n">yes</span>          <span class="n">No</span> <span class="n">prompt</span><span class="p">,</span> <span class="n">assume</span> <span class="n">yes</span> <span class="n">to</span> <span class="n">questions</span>  <span class="p">[</span><span class="n">default</span><span class="p">:</span> <span class="kc">False</span><span class="p">]</span>
  <span class="o">-</span><span class="n">help</span><span class="p">,</span> <span class="o">-</span><span class="n">h</span><span class="p">,</span> <span class="o">--</span><span class="n">help</span>  <span class="n">Show</span> <span class="n">this</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span><span class="o">.</span>
</pre></div>
</div>
<p>This option create a new apps folder (or reinstall it). If needed, it
will ask for the confirmation of the new folder’s creation and then for
copying every standard py4web apps from the assets folder. It currently
does nothing on binaries installations and from source installation
(locally) - for them you can manually copy the existing apps folder to
the new one.</p>
</section>
<section id="shell-command-option">
<span id="id6"></span><h3><code class="docutils literal notranslate"><span class="pre">shell</span></code> command option<a class="headerlink" href="#shell-command-option" title="Permalink to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># py4web shell -h</span>
<span class="n">Usage</span><span class="p">:</span> <span class="n">py4web</span><span class="o">.</span><span class="n">py</span> <span class="n">shell</span> <span class="p">[</span><span class="n">OPTIONS</span><span class="p">]</span> <span class="n">APPS_FOLDER</span>

  <span class="n">Open</span> <span class="n">a</span> <span class="n">python</span> <span class="n">shell</span> <span class="k">with</span> <span class="n">apps_folder</span><span class="s1">&#39;s parent added to the path</span>

<span class="n">Options</span><span class="p">:</span>
  <span class="o">-</span><span class="n">Y</span><span class="p">,</span> <span class="o">--</span><span class="n">yes</span>          <span class="n">No</span> <span class="n">prompt</span><span class="p">,</span> <span class="n">assume</span> <span class="n">yes</span> <span class="n">to</span> <span class="n">questions</span>  <span class="p">[</span><span class="n">default</span><span class="p">:</span> <span class="kc">False</span><span class="p">]</span>
  <span class="o">-</span><span class="n">h</span><span class="p">,</span> <span class="o">-</span><span class="n">help</span><span class="p">,</span> <span class="o">--</span><span class="n">help</span>  <span class="n">Show</span> <span class="n">this</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span><span class="o">.</span>
</pre></div>
</div>
<p>Py4web’s shell is just the regular python shell with apps added to the
search path. Notice that the shell is for all the apps, not a single
one. You can then import the needed modules from the apps you need to
access.</p>
<p>For example, inside a shell you can</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">apps.myapp</span> <span class="kn">import</span> <span class="n">db</span>
<span class="kn">from</span> <span class="nn">py4web</span> <span class="kn">import</span> <span class="n">Session</span><span class="p">,</span> <span class="n">Cache</span><span class="p">,</span> <span class="n">Translator</span><span class="p">,</span> <span class="n">DAL</span><span class="p">,</span> <span class="n">Field</span>
<span class="kn">from</span> <span class="nn">py4web.utils.auth</span> <span class="kn">import</span> <span class="n">Auth</span>
</pre></div>
</div>
</section>
<section id="version-command-option">
<span id="id7"></span><h3><code class="docutils literal notranslate"><span class="pre">version</span></code> command option<a class="headerlink" href="#version-command-option" title="Permalink to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># py4web version -h</span>
<span class="n">Usage</span><span class="p">:</span> <span class="n">py4web</span><span class="o">.</span><span class="n">py</span> <span class="n">version</span> <span class="p">[</span><span class="n">OPTIONS</span><span class="p">]</span>

  <span class="n">Show</span> <span class="n">versions</span> <span class="ow">and</span> <span class="n">exit</span>

<span class="n">Options</span><span class="p">:</span>
  <span class="o">-</span><span class="n">a</span><span class="p">,</span> <span class="o">--</span><span class="nb">all</span>          <span class="n">List</span> <span class="n">version</span> <span class="n">of</span> <span class="nb">all</span> <span class="n">modules</span>
  <span class="o">-</span><span class="n">h</span><span class="p">,</span> <span class="o">-</span><span class="n">help</span><span class="p">,</span> <span class="o">--</span><span class="n">help</span>  <span class="n">Show</span> <span class="n">this</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span><span class="o">.</span>
</pre></div>
</div>
<p>With the <code class="docutils literal notranslate"><span class="pre">-all</span></code> option you’ll get the version of all the available python
modules, too.</p>
</section>
</section>
<section id="special-installations">
<h2>Special installations<a class="headerlink" href="#special-installations" title="Permalink to this heading"></a></h2>
<p>There are special cases in which you cannot or don’t want to use one of the generic installation
instructions we’ve already described. There is a special folder called <code class="docutils literal notranslate"><span class="pre">deployment_tools</span></code> in
the py4web repository that collects some special recipes. They are briefly described here, along
with some tips and tricks.</p>
<section id="https">
<h3>HTTPS<a class="headerlink" href="#https" title="Permalink to this heading"></a></h3>
<p>To use https with the build-in web server (Rocket3) these are the steps:</p>
<ul>
<li><p>Generate the localhost certificates. For example followed the instructions here:</p>
<blockquote>
<div><p><a class="reference external" href="https://www.section.io/engineering-education/how-to-get-ssl-https-for-localhost/">https://www.section.io/engineering-education/how-to-get-ssl-https-for-localhost/</a>.</p>
</div></blockquote>
</li>
<li><p>Restart your browser and browse securely to your web site.</p></li>
</ul>
<p>If you use VSCode to run py4web you may want to update the py4web launch.json file to contain:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="nt">&quot;configurations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;py4web&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;debugpy&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;request&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;launch&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;module&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;py4web&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="c1">// or &quot;program&quot;: &quot;${workspaceFolder}/py4web.py&quot;, if you didn&#39;t install py4web as a package</span>
<span class="w">            </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">&quot;run&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s2">&quot;apps&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s2">&quot;--ssl_cert&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;/path_to/localhost.crt&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s2">&quot;--ssl_key&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;/path_to/localhost.key&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s2">&quot;--server&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;rocketServer&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
</pre></div>
</div>
<p>Notice that /path_to/ should be the absolute path to the location of your certificate.</p>
</section>
<section id="wsgi">
<h3>WSGI<a class="headerlink" href="#wsgi" title="Permalink to this heading"></a></h3>
<p>py4web is a standard WSGI application. So, if a full program installation it’s not
feasible you can simply run py4web as a WSGI app. For example, using gunicorn-cli,
create a python file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># py4web_wsgi.py</span>
<span class="kn">from</span> <span class="nn">py4web.core</span> <span class="kn">import</span> <span class="n">wsgi</span>
<span class="n">application</span> <span class="o">=</span> <span class="n">wsgi</span><span class="p">(</span><span class="n">apps_folder</span><span class="o">=</span><span class="s2">&quot;apps&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>and then start the application using cli:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gunicorn</span> <span class="o">-</span><span class="n">w</span> <span class="mi">4</span> <span class="n">py4web_wsgi</span><span class="p">:</span><span class="n">application</span>
</pre></div>
</div>
<p>The wsgi function takes arguments with the same name as the command line arguments.</p>
</section>
<section id="deployment-on-gcloud-aka-gae-google-app-engine">
<h3>Deployment on GCloud (aka GAE - Google App Engine)<a class="headerlink" href="#deployment-on-gcloud-aka-gae-google-app-engine" title="Permalink to this heading"></a></h3>
<p>Login into the <a class="reference external" href="https://console.cloud.google.com/">Gcloud console</a> and
create a new project. You will obtain a project id that looks like
“{project_name}-{number}”.</p>
<p>In your local file system make a new working folder and cd into it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="n">gae</span>
<span class="n">cd</span> <span class="n">gae</span>
</pre></div>
</div>
<p>Copy the example files from py4web (assuming you have the source from
github)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">py4web</span><span class="o">/</span><span class="n">development_tools</span><span class="o">/</span><span class="n">gcloud</span><span class="o">/*</span> <span class="o">./</span>
</pre></div>
</div>
<p>Copy or symlink your <code class="docutils literal notranslate"><span class="pre">apps</span></code> folder into the gae folder, or maybe make
a new apps folder containing an empty <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> and symlink the
individual apps you want to deploy. You should see the following
files/folders:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Makefile</span>
<span class="n">apps</span>
  <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
  <span class="o">...</span> <span class="n">your</span> <span class="n">apps</span> <span class="o">...</span>
<span class="n">lib</span>
<span class="n">app</span><span class="o">.</span><span class="n">yaml</span>
<span class="n">main</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Install the Google SDK, py4web and setup the working folder:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">install</span><span class="o">-</span><span class="n">gcloud</span><span class="o">-</span><span class="n">linux</span>
<span class="n">make</span> <span class="n">setup</span>
<span class="n">gcloud</span> <span class="n">config</span> <span class="nb">set</span> <span class="p">{</span><span class="n">your</span> <span class="n">email</span><span class="p">}</span>
<span class="n">gcloud</span> <span class="n">config</span> <span class="nb">set</span> <span class="p">{</span><span class="n">project</span> <span class="nb">id</span><span class="p">}</span>
</pre></div>
</div>
<p>(replace {your email} with your google email account and {project id}
with the project id obtained from Google).</p>
<p>Now every time you want to deploy your apps, simply do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">deploy</span>
</pre></div>
</div>
<p>You may want to customize the Makefile and app.yaml to suit your needs.
You should not need to edit <code class="docutils literal notranslate"><span class="pre">main.py</span></code>.</p>
</section>
<section id="deployment-on-pythonanywhere-com">
<h3>Deployment on PythonAnywhere.com<a class="headerlink" href="#deployment-on-pythonanywhere-com" title="Permalink to this heading"></a></h3>
<p>Watch the <a class="reference external" href="https://youtu.be/Wxjl_vkLAEY">YouTube video</a> and follow the <a class="reference external" href="https://github.com/tomcam/py4webcasts/blob/master/docs/how-install-source-pythonanywhere.md">detailed
tutorial</a>
. The bottle_app.py script is in
<code class="docutils literal notranslate"><span class="pre">py4web/deployment_tools/pythonanywhere.com/bottle_app.py</span></code></p>
</section>
<section id="deployment-on-docker-podman">
<h3>Deployment on Docker/Podman<a class="headerlink" href="#deployment-on-docker-podman" title="Permalink to this heading"></a></h3>
<p>On <code class="docutils literal notranslate"><span class="pre">deployment_tools/docker</span></code> there is a simple Dockerfile for quickly running a py4web container. There is also
a docker-compose.yml file for setting up a more complex multi-container with PostgreSQL.
A ready docker example based on the Scaffold application can be cloned from this repository &lt;<a class="reference external" href="https://github.com/macneiln/docker-py4web-scaffold">https://github.com/macneiln/docker-py4web-scaffold</a>&gt;</p>
<p>Note that you can use them also with Podman, which has the advantage of does not requiring sudo and does not
running any background daemon.</p>
</section>
<section id="deployment-on-ubuntu">
<h3>Deployment on Ubuntu<a class="headerlink" href="#deployment-on-ubuntu" title="Permalink to this heading"></a></h3>
<p>On <code class="docutils literal notranslate"><span class="pre">deployment_tools/ubuntu</span></code> there is a bash script tested with Ubuntu Server 20.04.03 LTS. It uses nginx and self-signed
certificates. It optionally manage iptables, too.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="chapter-02.html" class="btn btn-neutral float-left" title="Help, resources and hints" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="chapter-04.html" class="btn btn-neutral float-right" title="The Dashboard" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, BSDv3 License.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      
      
     <span class="fa fa-element">
     <input class="container_toggle" type="checkbox" id="switch" name="mode">
     <label for="switch"></label>
     </span>
      
      v: master
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <dl>
        <dt>Languages</dt>
        
           <strong> 
          <dd><a href="/py4web-doc/en/master/">en</a></dd>
           </strong> 
        
          
          <dd><a href="/py4web-doc/pt/master/">pt</a></dd>
          
        
      </dl>
      
      
      <dl>
        <dt>Versions</dt>
        
           <strong> 
          <dd><a href="/py4web-doc/en/master/">master</a></dd>
           </strong> 
        
      </dl>
      
      
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="/py4web-doc/en/master/py4web-doc_en_master.pdf">pdf</a></dd>
        
          <dd><a href="/py4web-doc/en/master/py4web-doc_en_master.epub">epub</a></dd>
        
      </dl>
      
      
      <hr/>
      Free document hosting provided by <a href="https://pages.github.com/">GitHub Pages</a>.
 
    </div>
  </div>

 <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

  <style>
         .wy-nav-content { max-width: none; }
  </style>



</body>
</html>